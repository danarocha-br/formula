@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --color-white: 0 0% 100%;

    --color-neutral-50: 48 7% 96%;
    --color-neutral-100: 48 7% 90%;
    --color-neutral-200: 48 7% 82%;
    --color-neutral-300: 48 7% 76%;
    --color-neutral-400: 48 7% 66%;
    --color-neutral-500: 48 3% 48%;
    --color-neutral-600: 49 3% 30%;
    --color-neutral-700: 49 3% 20%;
    --color-neutral-800: 53 3% 11%;
    --color-neutral-900: 53 3% 5%;

    --color-cyan-50: 188 57% 98%;
    --color-cyan-100: 188 57% 94%;
    --color-cyan-200: 188 57% 87%;
    --color-cyan-300: 188 40% 76%;
    --color-cyan-400: 188 37% 66%;
    --color-cyan-500: 188 27% 42%;
    --color-cyan-600: 188 42% 28%;
    --color-cyan-700: 188 42% 20%;
    --color-cyan-800: 188 57% 13%;
    --color-cyan-900: 188 57% 9%;

    --color-green-50: 72 61% 98%;
    --color-green-100: 72 61% 94%;
    --color-green-200: 72 61% 87%;
    --color-green-300: 72 61% 76%;
    --color-green-400: 72 61% 66%;
    --color-green-500: 72 61% 42%;
    --color-green-600: 72 61% 28%;
    --color-green-700: 72 61% 20%;
    --color-green-800: 72 61% 13%;
    --color-green-900: 72 61% 9%;

    --color-yellow-50: 41 90% 98%;
    --color-yellow-100: 41 90% 94%;
    --color-yellow-200: 41 90% 87%;
    --color-yellow-300: 41 90% 76%;
    --color-yellow-400: 41 90% 66%;
    --color-yellow-500: 41 85% 42%;
    --color-yellow-600: 41 80% 28%;
    --color-yellow-700: 41 80% 20%;
    --color-yellow-900: 41 80% 13%;
    --color-yellow-900: 41 80% 9%;

    --color-froly-50: 342 67% 98%;
    --color-froly-100: 342 67% 92%;
    --color-froly-200: 342 67% 83%;
    --color-froly-300: 342 67% 76%;
    --color-froly-400: 342 62% 66%;
    --color-froly-500: 342 50% 42%;
    --color-froly-600: 342 50% 28%;
    --color-froly-700: 342 50% 20%;
    --color-froly-900: 342 50% 13%;
    --color-froly-900: 342 66% 9%;

    --color-purple-50: 257 81% 98%;
    --color-purple-100: 257 81% 92%;
    --color-purple-200: 257 81% 83%;
    --color-purple-300: 257 81% 76%;
    --color-purple-400: 257 74% 66%;
    --color-purple-500: 257 74% 42%;
    --color-purple-600: 257 74% 28%;
    --color-purple-700: 257 74% 20%;
    --color-purple-900: 257 74% 13%;
    --color-purple-900: 257 81% 9%;

    --background: var(--color-neutral-900);
    --subdued: var(--color-neutral-800);
    --foreground: var(--color-neutral-100);

    --card: var(--color-white);
    --card-foreground: var(--color-neutral-800);

    --popover: var(--color-white);
    --popover-foreground: var(--color-neutral-800);

    --primary: var(--color-purple-300);
    --primary-foreground: 0 0% 9%;

    --secondary: 0 0% 14.9%;
    --secondary-foreground: var(--color-neutral-800);

    --muted: 49 3% 36%;
    --muted-foreground: var(--color-neutral-400);

    --accent: var(--color-purple-400);
    --accent-foreground: var(--color-purple-50);

    --destructive: var(--color-froly-600);
    --destructive-foreground: var(--color-white);

    --success: 142 76% 36%;
    --success-foreground: 0 0% 98%;

    --warning: 36 100% 50%;
    --warning-foreground: 0 0% 98%;

    --inverted: var(--color-neutral-900);
    --inverted-foreground: var(--color-white);

    --border: var(--color-neutral-100);
    --input: var(--color-white);
    --ring: var(--color-neutral-100);

    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;

    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 224.3 76.3% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }
  .dark {
    --background: var(--color-neutral-900);
    --subdued: var(--color-neutral-800);
    --foreground: var(--color-neutral-100);

    --card: var(--color-white);
    --card-foreground: var(--color-neutral-800);

    --popover: var(--color-white);
    --popover-foreground: var(--color-neutral-800);

    --primary: var(--color-purple-300);
    --primary-foreground: 0 0% 9%;

    --secondary: 0 0% 14.9%;
    --secondary-foreground: var(--color-neutral-800);

    --muted: 49 3% 36%;
    --muted-foreground: var(--color-neutral-400);

    --accent: var(--color-purple-400);
    --accent-foreground: var(--color-purple-50);

    --destructive: var(--color-froly-500);
    --destructive-foreground: var(--color-white);

    --success: 142 76% 36%;
    --success-foreground: 0 0% 98%;

    --warning: 36 100% 50%;
    --warning-foreground: 0 0% 98%;

    --inverted: var(--color-neutral-900);
    --inverted-foreground: var(--color-white);

    --border: var(--color-neutral-100);
    --input: var(--color-white);
    --ring: var(--color-neutral-100);

    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;

    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 224.3 76.3% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }
}

@layer base {
  * {
    @apply border-border min-w-0;
  }
  html {
    text-rendering: optimizelegibility;
  }
  body {
    @apply bg-background text-foreground min-h-[100dvh];
  }
}

.react-flow__node,
.react-flow__node-input {
  @apply !bg-card !rounded-md !shadow-md border !border-primary !p-0 !min-w-[260px] !text-left;
}

.react-flow__handle {
  @apply !w-2 !h-2 !bg-background border-2 border-white;
}

.react-flow__edge path {
  @apply stroke-2 stroke-background/30;
}

.calculation-node {
}

.react-flow__node-input {
  min-width: 310px !important;
}

.output-node {
}

.node-header {
  @apply text-sm font-medium text-card-foreground rounded-t-[14px] px-4 py-2;
}

.node-content {
  @apply space-y-1;
}

.node-input {
  @apply w-full px-3 py-2 bg-white border rounded-sm focus:outline-none focus:ring-2 focus:ring-primary;
}

.node-output {
  @apply text-xl font-bold text-foreground;
}

.node-description {
  @apply text-[15px] text-card-foreground/70 text-left bg-muted/10 px-4 pt-1.5 pb-3 leading-4 mt-4;
}

.shiki {
  background-color: var(--shiki-light-bg);
  color: var(--shiki-light);
  @apply border-border;
}

.shiki span {
  color: var(--shiki-light);
}

.dark .shiki {
  background-color: var(--shiki-dark-bg);
  color: var(--shiki-dark);
}

.dark .shiki span {
  color: var(--shiki-dark);
}

.shiki code {
  display: grid;
  font-size: 13px;
  counter-reset: line;
}

.shiki .line:before {
  content: counter(line);
  counter-increment: line;

  @apply inline-block w-4 mr-8 text-muted-foreground text-right;
}

.shiki[title]:before {
  content: attr(title);
  @apply inline-block text-muted-foreground text-right mb-6 text-sm;
}

::selection {
  background: hsl(var(--color-purple-100));
}
